(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[39],{ABG1:function(e,t,a){},Nty4:function(e,t,a){},"XS/K":function(e,t,a){},gUHE:function(e,t,a){},pLOv:function(e,t,a){"use strict";a.r(t);var l=a("cDcd"),n=a.n(l),o=a("17x9"),s=a("TSYQ"),i=a.n(s),r=a("x+6M"),c=(a("wMwN"),a("RpVb"));a("Nty4");const m=e=>{let{onClick:t}=e;return n.a.createElement("div",{className:"close-button-wrapper"},n.a.createElement("button",{className:"close-button",onClick:t,type:"button"},"Close",n.a.createElement(c["a"],{className:"close-button__icon",height:"16",width:"16",src:"https://assets.thdstatic.com/images/v1/close-symbol-orange.svg",alt:"Close",lazy:!0})))};m.propTypes={onClick:o["func"]},m.defaultProps={onClick:null};var d=m,u=a("SUcb"),b=a("oVUb");a("ABG1"),a("Wf/j");const p=e=>{let{onThumbnailClick:t,thumbnails:a}=e;return n.a.createElement(n.a.Fragment,null,a.map((e,a)=>{const l=b["a"].isVideo({media:e}),o=b["a"].isImage360({media:e}),s=b["a"].isAR({media:e}),r=b["a"].isHotspot({media:e}),m=l||o||s||r;let d=e.url;l?d=e.videoStill:(o||s)&&(d=e.mediaStill);const u=i()("thumbnail__image-block",{"thumbnail__image-block--selected":e.isSelected});return m?n.a.createElement("div",{key:a,className:"thumbnail__wrapper"},n.a.createElement("button",{type:"button",className:u,onClick:()=>t(e)},n.a.createElement(c["a"],{alt:"",className:"thumbnail__image",src:d,lazy:!0,height:"88",width:"88"}),(o||l||s||r)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"background-circle background-circle--thumbnail"}),o&&n.a.createElement("span",{className:"threesixty-icon threesixty-icon--thumbnail"}),l&&n.a.createElement("span",{className:"play-icon play-icon--thumbnail"}),s&&n.a.createElement("span",{className:"ar-icon ar-icon--thumbnail"}),r&&n.a.createElement("span",{className:"hotspot-tag-icon hotspot-tag-icon__thumbnail"})))):b["a"].isImage({media:e})?n.a.createElement("div",{key:a,className:"thumbnail__wrapper"},n.a.createElement("button",{type:"button",className:u,onClick:()=>t(e)},n.a.createElement(c["a"],{className:"thumbnail__image",src:e.url,alt:"",lazy:!0}))):null}))};p.propTypes={onThumbnailClick:o["func"].isRequired,thumbnails:Object(o["arrayOf"])(Object(o["shape"])({brandName:o["string"],productLabel:o["string"],imageUrl:o["string"],isSelected:o["bool"]}))},p.defaultProps={thumbnails:[]};var h=a("JPaS");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t=f(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e){var t=_(e,"string");return"symbol"===typeof t?t:String(t)}function _(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!==typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class O extends l["Component"]{constructor(e){super(e),g(this,"handleOverlayClose",e=>{const{modelClass:t}=this.state,{handleClose:a}=this.props;t||(this.setState({modalClass:"overlay--close-animation"}),setTimeout(()=>{a()},400))}),g(this,"handleThumbnailClick",e=>{let{thumbnailList:t,thumbnail:a,mainImages:l}=e;const n=t.findIndex(e=>e.id===a.id),o=t.findIndex(e=>e.isSelected);if(-1===n||-1===o)return null;const s=JSON.parse(JSON.stringify(t));s[o].isSelected=!1,s[n].isSelected=!0;const i=t.filter(e=>!b["a"].isImage({media:e})||b["a"].isHotspot({media:e})),r=t.filter(e=>b["a"].isImage({media:e})),c=i.concat(r),m=c.findIndex(e=>e.id===a.id),d={section:"expanded-view",component:"thumbnails",target:a.type,position:m+1},u=a&&b["a"].isAR({media:a});return Object(h["b"])(d),this.setState({isARAssetSelected:u,overlayMainAsset:l[n],overlayThumbnails:s}),null}),this.overlayRef=Object(l["createRef"])();const{mainAsset:t,thumbnails:a}=e;a.forEach(e=>{e.isSelected=e.id===t.id}),this.state={isARAssetSelected:!(!t||!b["a"].isAR({media:t})),overlayMainAsset:t,overlayThumbnails:a,modalClass:""}}render(){var e;const{collection:t,media:a,product:l,overrideData:o,hideProductImagesLabel:s,overlayOpened:c,configuredProductLabel:m,videoAnalyticsData:h,itemId:v,showAvataarAR:g,showAvataarDefault:f}=this.props,{modalClass:_}=this.state,{identifiers:O}=l,{metadata:E}=t||{};let C=(null===o||void 0===o?void 0:o.brandNameLabel)||(null===(e=t?E:O)||void 0===e?void 0:e.brandName),N=m||(null===o||void 0===o?void 0:o.galleryLabel)||(t?null===E||void 0===E?void 0:E.name:null===O||void 0===O?void 0:O.productLabel);const{highResolution:w=[],main:k,zoom:j}=a,{overlayMainAsset:A,overlayThumbnails:S}=this.state,{id:L}=A||{},R=w.find(e=>e.id===L),P=L?j.find(e=>e.id===L):{},T=R||P||A,I=i()("overlay__side-content__product-images",{"overlay__side-content__product-images--nopadding":s,"overlay__side-content__product-images":!s}),x=[],D=[];S.forEach(e=>{const t=b["a"].isVideo({media:e})||b["a"].isImage360({media:e})||b["a"].isAR({media:e})||b["a"].isHotspot({media:e});t?x.push(e):D.push(e)});const{isARAssetSelected:B}=this.state,M=!!x.length,z=b["a"].getInteractiveMediaTitle({mediaList:x});return n.a.createElement(r["a"],{open:c,onClose:this.handleOverlayClose,modalClass:_},n.a.createElement("div",{className:"media-gallery-overlay"},n.a.createElement("section",{className:"overlay__wrapper",ref:this.overlayRef},n.a.createElement(d,{onClick:this.handleOverlayClose}),n.a.createElement("div",{className:"overlay__content"},n.a.createElement("div",{className:"overlay__main-asset-container"},n.a.createElement(u["a"],{mainAsset:A,zoomedAsset:T,fwdOverlayRef:this.overlayRef.current,collectionLink:A.collection,videoAnalyticsData:y(y({},h),{},{section:"expanded-view"}),itemId:v,showAvataarAR:g,showAvataarDefault:f})),n.a.createElement("div",{className:"overlay__side-content-container"},n.a.createElement("div",{className:"overlay__side-content"},!s&&n.a.createElement("div",{className:"overlay__side-content__label"},N),n.a.createElement("div",{className:"overlay__side-content__brand"},C&&n.a.createElement(n.a.Fragment,null,"by ",n.a.createElement("span",{className:"overlay__side-content__brand--bold"},C))),M&&n.a.createElement("div",{className:"overlay__side-content__alt-media"},z,n.a.createElement("div",{className:"overlay__thumbnails"},n.a.createElement(p,{thumbnails:x,onThumbnailClick:e=>this.handleThumbnailClick({thumbnailList:S,thumbnail:e,mainImages:k})})),B&&!g&&!f&&n.a.createElement("div",{className:"ar-cta"},"See it in Your Space (Augmented Reality) is currently",n.a.createElement("span",{className:"ar-cta__bold-text"},"Â only available using an AR compatible Apple device (iOS 12 or above)."))),n.a.createElement("div",{className:I},!s&&"Product Images",n.a.createElement("div",{className:"overlay__thumbnails"},n.a.createElement(p,{thumbnails:D,onThumbnailClick:e=>{this.handleThumbnailClick({thumbnailList:S,thumbnail:e,mainImages:k})}})))))))))}}O.propTypes={collection:Object(o["shape"])({}),handleClose:o["func"].isRequired,mainAsset:Object(o["shape"])({id:o["string"],type:o["string"],url:o["string"],videoStill:o["string"]}),media:Object(o["shape"])({main:Object(o["arrayOf"])(Object(o["shape"])({id:o["string"],type:o["string"],url:o["string"],videoStill:o["string"]})),thumbnails:Object(o["arrayOf"])(Object(o["shape"])({id:o["string"],type:o["string"],url:o["string"],videoStill:o["string"]})),zoom:Object(o["arrayOf"])(Object(o["shape"])({id:o["string"],type:o["string"],url:o["string"],videoStill:o["string"]}))}),product:Object(o["shape"])({}),thumbnails:Object(o["arrayOf"])(Object(o["shape"])({})),overrideData:Object(o["shape"])({galleryLabel:o["string"],brandNameLabel:o["string"]}),hideProductImagesLabel:o["bool"],overlayOpened:o["bool"],configuredProductLabel:o["string"],videoAnalyticsData:Object(o["shape"])({position:o["string"].isRequired}).isRequired,itemId:o["string"],showAvataarAR:o["bool"],showAvataarDefault:o["bool"]},O.defaultProps={collection:null,mainAsset:{id:"",location:"",type:"",altText:""},media:{main:[{id:"",location:"",type:"",altText:""}],thumbnails:[{id:"",location:"",type:"",altText:""}],zoom:[{id:"",location:"",type:"",altText:""}]},product:{},thumbnails:[],overrideData:null,hideProductImagesLabel:!1,overlayOpened:!1,configuredProductLabel:null,itemId:"",showAvataarAR:!1,showAvataarDefault:!1};var E=O;t["default"]=E},wMwN:function(e,t,a){},"x+6M":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var l=a("cDcd"),n=a.n(l),o=a("faye"),s=a.n(o),i=a("hCMC"),r=a("TSYQ"),c=a.n(r),m=a("17x9");a("gUHE"),a("XS/K");const d=e=>{const{channel:t,onClose:a,placement:o,header:s,positionedCloseButton:i}=e,r="mobile"===t,m=c()("overlay-close-button",{"overlay-close-button--right":"right"===o,"overlay-close-button--left":"left"===o}),d=c()("overlay-close-button-positioned",{"overlay-close-button-positioned--right":"right"===o,"overlay-close-button-positioned--left":"left"===o}),u=c()("overlay-close-button__icon",{"overlay-close-button__icon--medium":r&&s}),b=Object(l["useCallback"])(()=>{a&&a(),window.history.back()},[]),p=()=>i?n.a.createElement("span",{className:d},n.a.createElement("button",{onClick:b,type:"button"},n.a.createElement("img",{className:u,src:"https://assets.homedepot-static.com/images/v1/close-symbol-orange.svg",alt:"Close"}))):n.a.createElement("div",{className:m},n.a.createElement("button",{onClick:b,type:"button"},n.a.createElement("img",{className:u,src:"https://assets.homedepot-static.com/images/v1/close-symbol-orange.svg",alt:"Close"})));return n.a.createElement(n.a.Fragment,null,!r||s?p():n.a.createElement("div",{className:"overlay-back-button"},n.a.createElement("button",{onClick:b,type:"button"},n.a.createElement("img",{className:"overlay-back-button__icon",src:"https://assets.homedepot-static.com/images/v1/back-arrow-orange.svg",alt:"Back"}),n.a.createElement("span",{className:"overlay-back-button__text"},"Back"))))};d.propTypes={channel:Object(m["oneOf"])(["desktop","mobile"]),onClose:m["func"].isRequired,header:m["string"],placement:Object(m["oneOf"])(["right","left"]),positionedCloseButton:m["bool"]},d.defaultProps={channel:"desktop",header:null,placement:"right",positionedCloseButton:!1};var u=d;const b=27,p=({children:e,className:t,closeButton:a,el:o="div",fit:r,header:m,medium:d=!1,modalClass:p,onClose:h,open:v,placement:y,positionedCloseButton:g=!1,scrollable:f})=>{const{isServer:_,channel:O}=Object(l["useContext"])(i["a"]);if(_)return null;const[E]=Object(l["useState"])(document.createElement(o)),[C,N]=Object(l["useState"])(!1),w=Object(l["useCallback"])(e=>{const t=e&&e.keyCode===b;t&&h&&(h(),window.history.back())},[]),k=Object(l["useCallback"])(e=>{e&&document.body.classList.add("overlay--noscroll")},[]);Object(l["useEffect"])(()=>{N(!0)},[]),Object(l["useEffect"])(()=>(v&&(window.history.pushState({},"Overlay","#overlay"),document.addEventListener("keydown",w,!1)),document.body.appendChild(E),"undefined"!==typeof window&&window.addEventListener("popstate",h,!1),k(v),()=>{document.body.removeChild(E),document.removeEventListener("keydown",w,!1),window.removeEventListener("popstate",h,!1),document.body.classList.remove("overlay--noscroll")}),[v]);const j=Object(l["useCallback"])(e=>{const t=e&&e.target&&e.target.classList&&e.target.classList.contains("overlay");t&&h&&(h(),window.history.back())},[]),A=c()("overlay",t,{"overlay--open":v,"overlay--closed":!v}),S=c()("modal",{modal__desktop:"desktop"===O||"tablet"===O,"modal__desktop--scrollable":f&&("desktop"===O||"tablet"===O),"modal--fullscreen":"mobile"===O,"modal--medium":d&&"mobile"!==O,"modal--fit":r&&"mobile"!==O},p),L=c()({modal__header:m});return C&&s.a.createPortal(n.a.createElement("div",{className:A,onClick:e=>j(e),role:"main"},n.a.createElement("div",{className:S},!g&&n.a.createElement("div",{className:L},m&&n.a.createElement("h2",{className:"modal__header--title"},m),a&&n.a.createElement(u,{channel:O,onClose:h,header:m,placement:y})),a&&g&&n.a.createElement(u,{channel:O,onClose:h,header:m,placement:y,positionedCloseButton:!0}),e)),E)};p.propTypes={children:Object(m["oneOfType"])([m["node"],Object(m["arrayOf"])(m["node"])]),className:m["string"],closeButton:m["bool"],fit:m["bool"],header:m["string"],medium:m["bool"],modalClass:m["string"],onClose:m["func"].isRequired,open:m["bool"],scrollable:m["bool"]},p.defaultProps={children:null,className:null,closeButton:!1,fit:!1,header:null,medium:!1,modalClass:null,open:!1,scrollable:!0}}}]);
//# sourceMappingURL=media-gallery-overlay.5af46cfd512d4fbd98e4.js.map