!function(){"use strict";const s={api:"/customer/gpc/v1/preference",call:e=>fetch(s.api,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})},o={key:"gpc",getGPC:()=>{try{return JSON.parse(window.localStorage.getItem(o.key))}catch(e){return null}},setGPC:e=>{try{window.localStorage.setItem(o.key,JSON.stringify(e))}catch(e){}}},t={setCustomer:()=>{t.Customer.isLoggedIn=window.THDCustomer.default.isLoggedIn||!1,t.Customer.svocID=window.THDCustomer.default.svocID||"",t.Customer.mcvisID=window.THDCustomer.default.mcvisID||window.THDCustomer.default.guestUserID||"",t.Customer.userID=window.THDCustomer.default.userID||""},Customer:{},forStorage:e=>{e=e||{loggedAsGuest:"",userIDs:[]};return e.loggedAsGuest=!t.Customer.isLoggedIn,t.Customer.isLoggedIn&&-1===e.userIDs.indexOf(t.Customer.userID)&&e.userIDs.push(t.Customer.userID),e},forAPI:()=>({mcvisId:t.Customer.mcvisID,svocId:t.Customer.svocID,userId:t.Customer.userID})};if(window.navigator&&window.navigator.globalPrivacyControl){window.THDCustomer&&window.THDCustomer.default&&t.setCustomer();const r=o.getGPC();r&&(!t.Customer.isLoggedIn||r.userIDs.includes(t.Customer.userID))||s.call(t.forAPI()).then(e=>{e.ok&&o.setGPC(t.forStorage(r))}).catch(e=>console.log("GPC Request Failed: ",e))}}();
//# sourceMappingURL=gpc.js.map
